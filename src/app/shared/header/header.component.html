<header class="bg-gradient-to-r from-blue-900 to-purple-950 p-4 shadow-lg sticky top-0 z-50">
  <div class="container mx-auto flex justify-between items-center">
    <a routerLink="/" class="rounded-md p-2 hover:bg-white/20 transition-colors duration-300 flex items-center">
      <img
        src="https://pappaladabba.com/wp-content/uploads/2024/01/cropped-v0002-1-1.png"
        alt="Pappala Dabba Logo"
        class="h-12 md:h-16 w-auto rounded-md"
        onerror="this.onerror=null;this.src='[https://placehold.co/150x40/CCCCCC/000000?text=Logo+Error](https://placehold.co/150x40/CCCCCC/000000?text=Logo+Error)';"
      >
    </a>

    <nav class="hidden md:flex space-x-6">
      <a routerLink="/home" class="text-white text-lg font-medium hover:text-gray-300 transition-colors duration-300 p-2 rounded-md hover:bg-white/10">Home</a> 
      <a routerLink="/products" class="text-white text-lg font-medium hover:text-gray-300 transition-colors duration-300 p-2 rounded-md hover:bg-white/10">Products</a>
      <a routerLink="/about" class="text-white text-lg font-medium hover:text-gray-300 transition-colors duration-300 p-2 rounded-md hover:bg-white/10">About Us</a>
      <a routerLink="/contact" class="text-white text-lg font-medium hover:text-gray-300 transition-colors duration-300 p-2 rounded-md hover:bg-white/10">Contact Us</a> 
    </nav>

    <div class="flex items-center space-x-4">
      <a href="#" class="text-white hover:text-gray-300 transition-colors duration-300 p-2 rounded-full hover:bg-white/10">
        <svg xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search">
          <circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/>
        </svg>
      </a>

      <a routerLink="/cart" class="text-white hover:text-gray-300 transition-colors duration-300 p-2 rounded-full hover:bg-white/10 relative">
        <svg xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shopping-cart">
          <circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"/>
        </svg>
        <span *ngIf="cartItemCount$ | async as count"
              class="absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full"
              [class.hidden]="count === 0">
          {{ count }}
        </span>
      </a>

      <a routerLink="/profile" class="text-white hover:text-gray-300 transition-colors duration-300 p-2 rounded-full hover:bg-white/10">
        <svg xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user">
          <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/>
        </svg>
      </a>

      <button (click)="toggleMobileMenu()" class="md:hidden text-white p-2 rounded-md hover:bg-white/10 transition-colors duration-300">
        <svg *ngIf="!isMobileMenuOpen" xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu">
          <line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>
        </svg>
        <svg *ngIf="isMobileMenuOpen" xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x">
          <path d="M18 6 6 18"/><path d="m6 6 12 12"/>
        </svg>
      </button>
    </div>
  </div>

  <nav *ngIf="isMobileMenuOpen" class="md:hidden absolute top-full left-0 w-full bg-purple-900 py-4 shadow-lg rounded-b-lg">
    <div class="flex flex-col items-center space-y-4">
      <a routerLink="/" (click)="toggleMobileMenu()" class="block text-white text-lg font-medium hover:text-gray-300 transition-colors duration-300 p-2 rounded-md hover:bg-white/10 w-full text-center">Home</a>
      <a routerLink="/products" (click)="toggleMobileMenu()" class="block text-white text-lg font-medium hover:text-gray-300 transition-colors duration-300 p-2 rounded-md hover:bg-white/10 w-full text-center">Products</a>
      <a routerLink="/about" (click)="toggleMobileMenu()" class="block text-white text-lg font-medium hover:text-gray-300 transition-colors duration-300 p-2 rounded-md hover:bg-white/10 w-full text-center">About Us</a>
      <a routerLink="/contact" (click)="toggleMobileMenu()" class="block text-white text-lg font-medium hover:text-gray-300 transition-colors duration-300 p-2 rounded-md hover:bg-white/10 w-full text-center">Contact Us</a>
      <a routerLink="/cart" (click)="toggleMobileMenu()" class="block text-white text-lg font-medium hover:text-gray-300 transition-colors duration-300 p-2 rounded-md hover:bg-white/10 w-full text-center relative">
        Cart
        <span *ngIf="cartItemCount$ | async as count"
              class="absolute right-4 top-1/2 -translate-y-1/2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"
              [class.hidden]="count === 0">
          {{ count }}
        </span>
      </a>
    </div>
  </nav>
</header>